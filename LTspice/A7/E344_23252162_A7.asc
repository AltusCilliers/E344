Version 4
SHEET 1 1824 680
WIRE -1824 -1264 -1856 -1264
WIRE -1712 -1264 -1744 -1264
WIRE -816 -1264 -816 -1280
WIRE -1856 -1184 -1856 -1264
WIRE -2304 -1168 -2304 -1248
WIRE -1760 -1168 -1808 -1168
WIRE -1712 -1168 -1712 -1184
WIRE -1200 -1136 -1200 -1152
WIRE -1136 -1136 -1200 -1136
WIRE -1200 -1120 -1200 -1136
WIRE -1760 -1104 -1760 -1168
WIRE -1712 -1104 -1760 -1104
WIRE -1328 -1088 -1392 -1088
WIRE -656 -1088 -656 -1152
WIRE -1136 -1024 -1136 -1136
WIRE -1120 -1024 -1136 -1024
WIRE -912 -1008 -1056 -1008
WIRE -816 -1008 -816 -1120
WIRE -816 -1008 -912 -1008
WIRE -736 -1008 -816 -1008
WIRE -704 -1008 -736 -1008
WIRE -1328 -992 -1328 -1008
WIRE -1120 -992 -1328 -992
WIRE -2256 -976 -2320 -976
WIRE -2160 -976 -2176 -976
WIRE -1328 -976 -1328 -992
WIRE -736 -976 -736 -1008
WIRE -2320 -960 -2320 -976
WIRE -1824 -896 -1856 -896
WIRE -1712 -896 -1744 -896
WIRE -736 -832 -736 -896
WIRE -1856 -816 -1856 -896
WIRE -1760 -800 -1808 -800
WIRE -1712 -800 -1712 -816
WIRE -1296 -784 -1328 -784
WIRE -1088 -784 -1120 -784
WIRE -992 -784 -1024 -784
WIRE -896 -784 -928 -784
WIRE -1760 -736 -1760 -800
WIRE -1712 -736 -1760 -736
WIRE -656 -736 -656 -992
WIRE -1296 -672 -1296 -784
WIRE -1264 -672 -1296 -672
WIRE -1104 -672 -1264 -672
WIRE -896 -656 -896 -784
WIRE -896 -656 -1040 -656
WIRE -768 -656 -768 -688
WIRE -768 -656 -896 -656
WIRE -704 -656 -768 -656
WIRE -1392 -640 -1424 -640
WIRE -1152 -640 -1328 -640
WIRE -1120 -640 -1120 -784
WIRE -1120 -640 -1152 -640
WIRE -1104 -640 -1120 -640
WIRE -1264 -608 -1264 -672
WIRE -1152 -608 -1152 -640
WIRE -656 -576 -656 -640
WIRE -736 -496 -784 -496
WIRE -704 -496 -736 -496
WIRE -736 -464 -736 -496
FLAG -1088 -976 0
FLAG -2304 -1088 0
FLAG -2304 -1248 LDR
IOPIN -2304 -1248 Out
FLAG -1328 -896 0
FLAG -1088 -1040 5V
IOPIN -1088 -1040 Out
FLAG -2160 -976 5V
IOPIN -2160 -976 Out
FLAG -2320 -880 0
FLAG -1200 -1232 5V
IOPIN -1200 -1232 Out
FLAG -1200 -1040 0
FLAG -912 -1008 Vdigital
IOPIN -912 -1008 Out
FLAG -1328 -992 Vanalog
IOPIN -1328 -992 Out
FLAG -1392 -1088 5V
IOPIN -1392 -1088 Out
FLAG -1264 -528 0
FLAG -1264 -752 5V
IOPIN -1264 -752 Out
FLAG -1152 -528 0
FLAG -656 -480 LoadControl
IOPIN -656 -480 Out
FLAG -656 -1152 5V
IOPIN -656 -1152 Out
FLAG -784 -496 5V
IOPIN -784 -496 Out
FLAG -816 -1280 0
FLAG -1712 -1168 0
FLAG -1808 -1120 0
FLAG -1712 -1024 0
FLAG -1856 -1104 0
FLAG -1856 -1264 S1
IOPIN -1856 -1264 Out
FLAG -1712 -800 0
FLAG -1808 -752 0
FLAG -1712 -656 0
FLAG -1856 -736 0
FLAG -1856 -896 S2
IOPIN -1856 -896 Out
FLAG -1856 -496 S1
IOPIN -1856 -496 Out
FLAG -1744 -448 S2
IOPIN -1744 -448 Out
FLAG -1872 -432 5V
IOPIN -1872 -432 Out
FLAG -1488 -816 5V
IOPIN -1488 -816 Out
FLAG -736 -832 0
FLAG -768 -576 0
FLAG -736 -384 0
FLAG -768 -688 Latch
IOPIN -768 -688 Out
SYMBOL voltage -2304 -1184 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 27 98 Left 2
SYMATTR Value PWL file=LDR.csv
SYMATTR InstName V_LDR
SYMBOL OpAmps\\LTC6079 -1088 -1008 R0
WINDOW 3 26 21 Left 2
SYMATTR InstName U1
SYMBOL res -1344 -1104 R0
SYMATTR InstName R1
SYMATTR Value 100k
SYMBOL res -1344 -992 R0
SYMATTR InstName RLDR
SYMATTR Value R=V(LDR)
SYMBOL voltage -2320 -976 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL res -2272 -992 M90
WINDOW 0 -7 47 VBottom 2
WINDOW 3 29 54 VTop 2
SYMATTR InstName RSense1
SYMATTR Value 1µ
SYMBOL res -1216 -1248 R0
SYMATTR InstName R2
SYMATTR Value 100k
SYMBOL res -1216 -1136 R0
SYMATTR InstName R3
SYMATTR Value 100k
SYMBOL diode -1392 -624 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL LED -800 -1200 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMBOL diode -1392 -768 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL OpAmps\\LTC6079 -1072 -656 R0
WINDOW 3 26 21 Left 2
SYMATTR InstName U2
SYMBOL diode -1024 -800 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL diode -928 -800 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res -1280 -768 R0
SYMATTR InstName R4
SYMATTR Value 100k
SYMBOL res -1280 -624 R0
SYMATTR InstName R5
SYMATTR Value 100k
SYMBOL res -1168 -624 R0
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL nmos -704 -1088 R0
SYMATTR InstName M1
SYMATTR Value 2N7002
SYMBOL nmos -704 -736 R0
SYMATTR InstName M2
SYMATTR Value 2N7002
SYMBOL nmos -704 -576 R0
SYMATTR InstName M3
SYMATTR Value 2N7002
SYMBOL res -832 -1216 R0
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL sw -1856 -1088 R180
SYMATTR InstName MYSW
SYMATTR Value MYSW
SYMBOL voltage -1712 -1280 R0
WINDOW 3 42 58 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL voltage -1712 -1120 R0
WINDOW 3 -156 141 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PWL file=SwitchPWL.csv
SYMBOL res -1728 -1280 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL sw -1856 -720 R180
SYMATTR InstName MYSW2
SYMATTR Value MYSW2
SYMBOL voltage -1712 -912 R0
WINDOW 3 42 58 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 5
SYMBOL voltage -1712 -752 R0
WINDOW 3 -156 141 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value PWL file=SwitchPWL2.csv
SYMBOL res -1728 -912 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL res -752 -992 R0
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL res -784 -672 R0
SYMATTR InstName R11
SYMATTR Value 10k
SYMBOL res -752 -480 R0
SYMATTR InstName R12
SYMATTR Value 10k
TEXT -2152 -1360 Left 2 !.tran 0 {transtop} 0
TEXT -2152 -1392 Left 2 !.include A7config.txt
TEXT -2352 -1392 Left 2 ;Config file:
TEXT -2352 -1360 Left 2 ;Analysis setup:
TEXT -1552 -1400 Left 2 ;=============================\nAA. Cilliers.,  23252162\n=============================
TEXT -952 -1424 Left 2 !.model MYSW SW(Ron=0.1m Vt=.2 Vh=0)\n.model MYSW2 SW(Ron=0.1m Vt=.2 Vh=0)
LINE Normal -1584 -1424 -1584 -704 2
LINE Normal -2368 -1424 -1584 -1424 2
LINE Normal -1584 -704 -2368 -704 2
LINE Normal -1584 -720 -1584 -720 2
LINE Normal -2368 -1424 -2368 -704 2
