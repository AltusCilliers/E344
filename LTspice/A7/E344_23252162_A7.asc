Version 4
SHEET 1 1824 680
WIRE -736 -1280 -736 -1296
WIRE -1824 -1264 -1856 -1264
WIRE -1712 -1264 -1744 -1264
WIRE -1856 -1184 -1856 -1264
WIRE -2304 -1168 -2304 -1248
WIRE -1760 -1168 -1808 -1168
WIRE -1712 -1168 -1712 -1184
WIRE -1120 -1152 -1120 -1168
WIRE -1056 -1152 -1120 -1152
WIRE -1120 -1136 -1120 -1152
WIRE -1760 -1104 -1760 -1168
WIRE -1712 -1104 -1760 -1104
WIRE -1248 -1104 -1312 -1104
WIRE -352 -1056 -352 -1072
WIRE -224 -1056 -352 -1056
WIRE -1056 -1040 -1056 -1152
WIRE -1040 -1040 -1056 -1040
WIRE -832 -1024 -976 -1024
WIRE -736 -1024 -736 -1136
WIRE -736 -1024 -832 -1024
WIRE -512 -1024 -736 -1024
WIRE -352 -1024 -352 -1056
WIRE -1248 -1008 -1248 -1024
WIRE -1040 -1008 -1248 -1008
WIRE -1248 -992 -1248 -1008
WIRE -2256 -976 -2320 -976
WIRE -2160 -976 -2176 -976
WIRE -128 -976 -224 -976
WIRE -2320 -960 -2320 -976
WIRE -1824 -896 -1856 -896
WIRE -1712 -896 -1744 -896
WIRE -352 -896 -352 -944
WIRE -272 -896 -352 -896
WIRE -352 -864 -352 -896
WIRE -1856 -816 -1856 -896
WIRE -1312 -816 -1408 -816
WIRE -1760 -800 -1808 -800
WIRE -1712 -800 -1712 -816
WIRE -1312 -800 -1312 -816
WIRE -1216 -800 -1248 -800
WIRE -1008 -800 -1040 -800
WIRE -912 -800 -944 -800
WIRE -816 -800 -848 -800
WIRE -512 -784 -512 -1024
WIRE -400 -784 -512 -784
WIRE -352 -752 -352 -768
WIRE -1760 -736 -1760 -800
WIRE -1712 -736 -1760 -736
WIRE -1216 -688 -1216 -800
WIRE -1184 -688 -1216 -688
WIRE -1024 -688 -1184 -688
WIRE -816 -672 -816 -800
WIRE -816 -672 -960 -672
WIRE -688 -672 -688 -704
WIRE -688 -672 -816 -672
WIRE -400 -672 -688 -672
WIRE -1312 -656 -1408 -656
WIRE -1072 -656 -1248 -656
WIRE -1040 -656 -1040 -800
WIRE -1040 -656 -1072 -656
WIRE -1024 -656 -1040 -656
WIRE -1184 -624 -1184 -688
WIRE -1072 -624 -1072 -656
FLAG -1008 -992 0
FLAG -2304 -1088 0
FLAG -2304 -1248 LDR
IOPIN -2304 -1248 Out
FLAG -1248 -912 0
FLAG -1008 -1056 5V
IOPIN -1008 -1056 Out
FLAG -2160 -976 5V
IOPIN -2160 -976 Out
FLAG -2320 -880 0
FLAG -1120 -1248 5V
IOPIN -1120 -1248 Out
FLAG -1120 -1056 0
FLAG -832 -1024 Vdigital
IOPIN -832 -1024 Out
FLAG -1248 -1008 Vanalog
IOPIN -1248 -1008 Out
FLAG -1312 -1104 5V
IOPIN -1312 -1104 Out
FLAG -1184 -544 0
FLAG -1184 -768 5V
IOPIN -1184 -768 Out
FLAG -1072 -544 0
FLAG -736 -1296 0
FLAG -1712 -1168 0
FLAG -1808 -1120 0
FLAG -1712 -1024 0
FLAG -1856 -1104 0
FLAG -1856 -1264 SET
IOPIN -1856 -1264 Out
FLAG -1712 -800 0
FLAG -1808 -752 0
FLAG -1712 -656 0
FLAG -1856 -736 0
FLAG -1856 -896 RESET
IOPIN -1856 -896 Out
FLAG -1504 -544 SET
IOPIN -1504 -544 Out
FLAG -1440 -896 RESET
IOPIN -1440 -896 Out
FLAG -2304 -544 5V
IOPIN -2304 -544 Out
FLAG -1408 -816 5V
IOPIN -1408 -816 Out
FLAG -688 -704 Latch
IOPIN -688 -704 Out
FLAG -224 -880 0
FLAG -352 -1072 5V
IOPIN -352 -1072 Out
FLAG -128 -976 LoadControl
IOPIN -128 -976 Out
FLAG -400 -576 5V
IOPIN -400 -576 Out
FLAG -352 -560 0
FLAG -1408 -736 0
FLAG -1408 -576 0
FLAG -992 -704 5V
IOPIN -992 -704 Out
FLAG -992 -640 0
SYMBOL voltage -2304 -1184 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 27 98 Left 2
SYMATTR Value PWL file=LDR.csv
SYMATTR InstName V_LDR
SYMBOL OpAmps\\LTC6079 -1008 -1024 R0
WINDOW 3 26 21 Left 2
SYMATTR InstName U1
SYMBOL res -1264 -1120 R0
SYMATTR InstName R1
SYMATTR Value 100k
SYMBOL res -1264 -1008 R0
SYMATTR InstName RLDR
SYMATTR Value R=V(LDR)
SYMBOL voltage -2320 -976 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL res -2272 -992 M90
WINDOW 0 -7 47 VBottom 2
WINDOW 3 29 54 VTop 2
SYMATTR InstName RSense1
SYMATTR Value 1µ
SYMBOL res -1136 -1264 R0
SYMATTR InstName R2
SYMATTR Value 25k
SYMBOL res -1136 -1152 R0
SYMATTR InstName R3
SYMATTR Value 100k
SYMBOL diode -1312 -640 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL LED -720 -1216 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMBOL diode -1312 -784 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL OpAmps\\LTC6079 -992 -672 R0
WINDOW 3 26 21 Left 2
SYMATTR InstName U2
SYMBOL diode -944 -816 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL diode -848 -816 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res -1200 -784 R0
SYMATTR InstName R4
SYMATTR Value 100k
SYMBOL res -1200 -640 R0
SYMATTR InstName R5
SYMATTR Value 100k
SYMBOL res -1088 -640 R0
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL res -752 -1232 R0
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL sw -1856 -1088 R180
SYMATTR InstName MYSW
SYMATTR Value MYSW
SYMBOL voltage -1712 -1280 R0
WINDOW 3 42 58 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value 5
SYMATTR InstName V2
SYMBOL voltage -1712 -1120 R0
WINDOW 3 -156 141 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PWL file=SwitchPWL.csv
SYMATTR InstName V3
SYMBOL res -1728 -1280 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL sw -1856 -720 R180
SYMATTR InstName MYSW2
SYMATTR Value MYSW2
SYMBOL voltage -1712 -912 R0
WINDOW 3 42 58 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value 5
SYMATTR InstName V4
SYMBOL voltage -1712 -752 R0
WINDOW 3 -156 141 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PWL file=SwitchPWL2.csv
SYMATTR InstName V5
SYMBOL res -1728 -912 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL nmos -400 -864 R0
SYMATTR InstName M1
SYMATTR Value 2N7002
SYMBOL nmos -400 -752 R0
SYMATTR InstName M2
SYMATTR Value 2N7002
SYMBOL res -368 -1040 R0
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL res -240 -1072 R0
SYMATTR InstName R11
SYMATTR Value 10k
SYMBOL nmos -272 -976 R0
SYMATTR InstName M3
SYMATTR Value 2N7002
SYMBOL nmos -400 -656 R0
SYMATTR InstName M7
SYMATTR Value 2N7002
SYMBOL res -1424 -672 R0
SYMATTR InstName R12
SYMATTR Value 10k
SYMBOL res -1424 -832 R0
SYMATTR InstName R13
SYMATTR Value 10k
TEXT -2152 -1360 Left 2 !.tran 0 {transtop} 0
TEXT -2152 -1392 Left 2 !.include A7config.txt
TEXT -2352 -1392 Left 2 ;Config file:
TEXT -2352 -1360 Left 2 ;Analysis setup:
TEXT -1552 -1400 Left 2 ;=============================\nAA. Cilliers.,  23252162\n=============================
TEXT -952 -1424 Left 2 !.model MYSW SW(Ron=0.1m Vt=.2 Vh=0)\n.model MYSW2 SW(Ron=0.1m Vt=.2 Vh=0)
LINE Normal -1584 -1424 -1584 -704 2
LINE Normal -2368 -1424 -1584 -1424 2
LINE Normal -1584 -704 -2368 -704 2
LINE Normal -2368 -1424 -2368 -704 2
